# üöÄ TeachMeMore P√©dagoConnect - Documentation Compl√®te

## üìã Table des Mati√®res

1. [Vue d'ensemble](#vue-densemble)
2. [Installation](#installation)
3. [Configuration](#configuration)
4. [Fonctionnalit√©s](#fonctionnalit√©s)
5. [Guide d'utilisation](#guide-dutilisation)
6. [API & Int√©grations](#api--int√©grations)
7. [Maintenance & D√©pannage](#maintenance--d√©pannage)

---

## üéØ Vue d'ensemble

**TeachMeMore P√©dagoConnect** est un plugin WordPress innovant con√ßu pour fluidifier la collaboration p√©dagogique entre TeachMeMore et ses √©coles partenaires.

### Probl√®me r√©solu
- ‚ùå Coordination p√©nible par emails et Excel
- ‚ùå Allers-retours pour valider dates, heures, formateurs
- ‚ùå Manque de visibilit√© sur les disponibilit√©s
- ‚ùå Suivi manuel des heures et des rapports

### Solution apport√©e
- ‚úÖ Interface collaborative centralis√©e
- ‚úÖ Gestion intelligente des disponibilit√©s formateurs
- ‚úÖ Planning synchronis√© en temps r√©el
- ‚úÖ Reporting automatis√© et analytics
- ‚úÖ Workflow optimis√© √©cole ‚Üî TeachMeMore

## üì¶ Installation

### Pr√©requis

- WordPress 5.8+
- PHP 7.4+
- MySQL 5.7+
- 512 Mo RAM minimum
- SSL activ√© (recommand√©)

### Structure des fichiers

```
teachmemore-pedagoconnect/
‚îú‚îÄ‚îÄ teachmemore-pedagoconnect.php          # Plugin principal
‚îú‚îÄ‚îÄ includes/
‚îÇ   ‚îú‚îÄ‚îÄ class-tmm-admin.php               # Interface admin
‚îÇ   ‚îú‚îÄ‚îÄ class-tmm-schools.php             # Gestion √©coles
‚îÇ   ‚îú‚îÄ‚îÄ class-tmm-modules.php             # Gestion modules
‚îÇ   ‚îú‚îÄ‚îÄ class-tmm-planning.php            # Planning collaboratif
‚îÇ   ‚îú‚îÄ‚îÄ class-tmm-availabilities.php      # Disponibilit√©s formateurs
‚îÇ   ‚îú‚îÄ‚îÄ class-tmm-reporting.php           # Reporting & analytics
‚îÇ   ‚îî‚îÄ‚îÄ class-tmm-notifications.php       # Syst√®me notifications
‚îú‚îÄ‚îÄ templates/
‚îÇ   ‚îú‚îÄ‚îÄ admin-dashboard.php               # Dashboard admin
‚îÇ   ‚îú‚îÄ‚îÄ school-dashboard.php              # Dashboard √©cole
‚îÇ   ‚îú‚îÄ‚îÄ global-planning.php               # Planning global
‚îÇ   ‚îú‚îÄ‚îÄ availabilities.php                # Interface disponibilit√©s
‚îÇ   ‚îî‚îÄ‚îÄ reporting.php                     # Interface rapports
‚îú‚îÄ‚îÄ assets/
‚îÇ   ‚îú‚îÄ‚îÄ css/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ frontend.css                  # Styles frontend
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ admin.css                     # Styles admin
‚îÇ   ‚îî‚îÄ‚îÄ js/
‚îÇ       ‚îú‚îÄ‚îÄ frontend.js                   # JavaScript frontend
‚îÇ       ‚îî‚îÄ‚îÄ admin.js                      # JavaScript admin
‚îî‚îÄ‚îÄ README.md
```

### Installation pas √† pas

1. **T√©l√©charger les fichiers**
   ```bash
   # Copier tous les fichiers dans wp-content/plugins/teachmemore-pedagoconnect/
   ```

2. **Activer le plugin**
   - Aller dans `Plugins > Plugins install√©s`
   - Activer "TeachMeMore P√©dagoConnect"

3. **Configuration automatique**
   - Custom Post Types cr√©√©s automatiquement
   - Tables de base de donn√©es cr√©√©es
   - R√¥les utilisateurs ajout√©s
   - T√¢ches CRON programm√©es

## ‚öôÔ∏è Configuration

### √âtape 1: Param√®tres g√©n√©raux

Aller dans `P√©dagoConnect > Param√®tres` :

```php
// Configuration des tarifs horaires
$hourly_rates = array(
    'standard' => 150,    // ‚Ç¨/heure
    'expert' => 200,
    'premium' => 250
);
update_option('tmm_hourly_rates', $hourly_rates);

// Configuration email
update_option('tmm_sender_email', 'noreply@teachmemore.fr');
update_option('tmm_sender_name', 'TeachMeMore');
```

### √âtape 2: Cr√©er les √©coles partenaires

```php
// Exemple de cr√©ation d'√©cole
$school_data = array(
    'post_title' => '√âcole Sup√©rieure de Commerce',
    'post_type' => 'tmm_school',
    'post_status' => 'publish'
);
$school_id = wp_insert_post($school_data);

// M√©tadonn√©es √©cole
update_post_meta($school_id, 'contact_emails', 'contact@esc.fr');
update_post_meta($school_id, 'working_hours_start', '08:00');
update_post_meta($school_id, 'working_hours_end', '18:00');
update_post_meta($school_id, 'working_days', array(1,2,3,4,5));
```

### √âtape 3: Cr√©er les modules TeachMeMore

```php
// Exemple de module
$module_data = array(
    'post_title' => 'Bootcamp DevOps - Niveau Expert',
    'post_type' => 'tmm_module',
    'post_content' => 'Formation intensive sur Docker, Kubernetes, CI/CD',
    'post_status' => 'publish'
);
$module_id = wp_insert_post($module_data);

// M√©tadonn√©es module
update_post_meta($module_id, 'duration_hours', 35);
update_post_meta($module_id, 'required_skills', 'DevOps, Docker, Kubernetes');
update_post_meta($module_id, 'rncp_block', 'RNCP34126-BC02');
update_post_meta($module_id, 'hourly_rate', 200);
```

### √âtape 4: Cr√©er les comptes utilisateurs

```php
// Compte √©cole partenaire
$user_data = array(
    'user_login' => 'esc_pedagogue',
    'user_email' => 'pedagogue@esc.fr',
    'user_pass' => wp_generate_password(),
    'display_name' => 'Responsable P√©dagogique ESC',
    'role' => 'partner_school'
);
$user_id = wp_insert_user($user_data);
update_user_meta($user_id, 'school_id', $school_id);

// Compte formateur TeachMeMore
$trainer_data = array(
    'user_login' => 'formateur_devops',
    'user_email' => 'pierre.martin@teachmemore.fr',
    'user_pass' => wp_generate_password(),
    'display_name' => 'Pierre Martin',
    'role' => 'tmm_trainer'
);
$trainer_id = wp_insert_user($trainer_data);
update_user_meta($trainer_id, 'trainer_skills', 'DevOps, Cloud, Automation');
```

## üéõÔ∏è Fonctionnalit√©s

### 1. Gestion des Disponibilit√©s (Innovation cl√©)

**Pour les formateurs :**
- Interface intuitive de saisie de cr√©neaux
- Disponibilit√©s r√©currentes et ponctuelles
- Synchronisation calendriers externes (Google, iCal)
- Gestion des cong√©s et indisponibilit√©s

**Algorithme intelligent :**
```php
// Suggestions automatiques de cr√©neaux
$suggestions = $this->calculate_optimal_time_slots(
    $module_id, 
    $school_id, 
    $duration_hours, 
    $preferred_start_date
);

// Score de compatibilit√©
$score = $this->calculate_compatibility_score($availability, $school_constraints);
```

### 2. Planning Collaboratif

**Workflow optimis√© :**
1. **TeachMeMore** propose une session
2. **√âcole** accepte, refuse ou propose alternative  
3. **Validation** automatique et notifications
4. **Suivi** temps r√©el du statut

**Statuts de session :**
- `proposed` - Propos√©e par TeachMeMore
- `confirmed` - Accept√©e par l'√©cole
- `in_progress` - Session en cours
- `completed` - Session termin√©e
- `cancelled` - Session annul√©e

### 3. Tableau de Bord √âcole

**Onglets principaux :**
- üìã **Propositions** - Sessions en attente de r√©ponse
- üóìÔ∏è **Prochaines sessions** - Planning confirm√©
- üìÖ **Calendrier** - Vue d'ensemble visuelle
- üìä **Historique** - Sessions pass√©es et stats
- üìö **Ressources** - Catalogue modules, formateurs

**Actions disponibles :**
- Accepter/Refuser propositions
- Proposer alternatives
- T√©l√©charger supports de cours
- √âvaluer sessions termin√©es
- Exporter planning

### 4. Reporting & Analytics

**Rapports disponibles :**
- **Activit√© globale** - Vue d'ensemble TeachMeMore
- **Performance √©coles** - M√©triques par partenaire
- **Activit√© formateurs** - Charge de travail, √©valuations
- **Popularit√© modules** - Modules les plus demand√©s
- **Financier** - CA, heures factur√©es
- **Satisfaction** - Retours √©coles et formateurs

**Exports automatiques :**
- CSV, Excel, PDF
- Rapports hebdomadaires/mensuels par email
- Tableaux de bord temps r√©el

## üë®‚Äçüíª Guide d'utilisation

### Pour les Responsables P√©dagogiques TeachMeMore

#### 1. Proposer une nouvelle session

```php
// Via interface admin ou programmation
$session_data = array(
    'post_title' => 'Session DevOps - ESC',
    'post_type' => 'tmm_session',
    'post_status' => 'proposed'
);
$session_id = wp_insert_post($session_data);

// M√©tadonn√©es session
update_post_meta($session_id, 'school_id', $school_id);
update_post_meta($session_id, 'module_id', $module_id);
update_post_meta($session_id, 'trainer_id', $trainer_id);
update_post_meta($session_id, 'start_datetime', '2025-03-15 09:00:00');
update_post_meta($session_id, 'end_datetime', '2025-03-15 17:00:00');
```

#### 2. Consulter les disponibilit√©s formateurs

```javascript
// R√©cup√©rer disponibilit√©s via AJAX
$.post(ajaxurl, {
    action: 'tmm_get_availabilities',
    user_id: trainer_id,
    start_date: '2025-03-01',
    end_date: '2025-03-31',
    nonce: tmm_ajax.nonce
}, function(response) {
    if (response.success) {
        displayAvailabilities(response.data);
    }
});
```

#### 3. G√©n√©rer un rapport

```javascript
// G√©n√©rer rapport global
$.post(ajaxurl, {
    action: 'tmm_generate_report',
    report_type: 'global_activity',
    start_date: '2025-01-01',
    end_date: '2025-03-31',
    nonce: tmm_ajax.nonce
}, function(response) {
    if (response.success) {
        displayReport(response.data);
    }
});
```

### Pour les √âcoles Partenaires

#### 1. R√©pondre √† une proposition

**Via interface :**
- Bouton "Accepter" ‚Üí Status `confirmed`
- Bouton "Proposer alternative" ‚Üí Modal avec nouveaux cr√©neaux
- Bouton "Refuser" ‚Üí Status `cancelled` + motif

**Via programmation :**
```php
// Accepter session
wp_update_post(array(
    'ID' => $session_id,
    'post_status' => 'confirmed'
));

// Proposer alternative
$counter_data = array(
    'original_session_id' => $session_id,
    'new_start' => '2025-03-16 10:00:00',
    'new_end' => '2025-03-16 18:00:00',
    'comment' => 'Conflit avec examens le 15 mars'
);
create_counter_proposal($counter_data);
```

#### 2. Consulter le planning

**Shortcode pour pages WordPress :**
```php
// Tableau de bord complet
[tmm_school_dashboard]

// Calendrier seul
[tmm_planning_calendar]
```

### Pour les Formateurs

#### 1. Saisir ses disponibilit√©s

**Interface disponibilit√©s :**
```php
// Shortcode pour formateurs
[tmm_availability_form]
```

**Disponibilit√©s r√©currentes :**
- Tous les lundis 9h-17h
- Mardis et jeudis matin
- Premi√®re semaine de chaque mois

**Indisponibilit√©s :**
- Cong√©s, formations
- Autres missions
- Contraintes personnelles

#### 2. Synchroniser calendrier externe

```javascript
// Import Google Calendar
$('#sync-google-calendar').click(function() {
    $.post(ajaxurl, {
        action: 'tmm_sync_calendar',
        calendar_type: 'google',
        nonce: tmm_ajax.nonce
    }, function(response) {
        if (response.success) {
            alert('Calendrier synchronis√©!');
            location.reload();
        }
    });
});
```

## üîå API & Int√©grations

### Endpoints personnalis√©s

```php
// REST API endpoints
register_rest_route('tmm/v1', '/sessions', array(
    'methods' => 'GET',
    'callback' => 'get_sessions_api',
    'permission_callback' => 'api_permissions_check'
));

register_rest_route('tmm/v1', '/availabilities/(?P<user_id>\d+)', array(
    'methods' => 'GET',
    'callback' => 'get_user_availabilities_api'
));
```

### Webhooks

```php
// Webhook pour notifications externes
do_action('tmm_session_confirmed', $session_id);
do_action('tmm_session_completed', $session_id);
do_action('tmm_new_availability', $user_id, $availability_data);
```

### Int√©grations tierces

**Moodle :**
```php
// Synchronisation avec LMS
$moodle_courses = sync_with_moodle($session_id);
```

**Syst√®mes RH :**
```php
// Export vers syst√®mes paie
$timesheet_data = generate_timesheet($trainer_id, $period);
```

**Google Workspace :**
```php
// Cr√©ation √©v√©nements calendrier
create_google_calendar_event($session_data);
```

## üõ†Ô∏è Maintenance & D√©pannage

### V√©rifications sant√©

```php
// Check tables BDD
function tmm_health_check() {
    global $wpdb;
    
    $tables = array(
        $wpdb->prefix . 'tmm_availabilities',
        $wpdb->prefix . 'tmm_notifications',
        $wpdb->prefix . 'tmm_sessions_meta'
    );
    
    foreach ($tables as $table) {
        if ($wpdb->get_var("SHOW TABLES LIKE '$table'") != $table) {
            return false;
        }
    }
    return true;
}
```

### Nettoyage cache

```php
// Vider cache rapports
delete_transient('tmm_global_activity_*');
delete_transient('tmm_school_performance_*');

// R√©initialiser permissions
$role = get_role('partner_school');
$role->add_cap('view_school_reports');
```

### Logs & Debug

```php
// Activer logs debug
define('TMM_DEBUG', true);

// Log personnalis√©
function tmm_log($message, $type = 'info') {
    if (defined('TMM_DEBUG') && TMM_DEBUG) {
        error_log("[TMM-{$type}] " . $message);
    }
}
```

### Sauvegarde donn√©es

```sql
-- Export donn√©es critiques
SELECT * FROM wp_tmm_sessions_meta 
WHERE start_datetime >= '2025-01-01';

SELECT * FROM wp_tmm_availabilities 
WHERE created_at >= '2025-01-01';
```

## üìà M√©triques & KPI

### Indicateurs de succ√®s

**C√¥t√© TeachMeMore :**
- ‚è±Ô∏è R√©duction 80% temps de planification
- üìß -90% emails coordination
- üìä +150% visibilit√© pipeline
- üí∞ +25% heures factur√©es

**C√¥t√© √âcoles :**
- üéØ Respect 98% cr√©neaux planifi√©s
- ‚≠ê 4.8/5 satisfaction process
- üìã Z√©ro ressaisie manuelle
- üîÑ Temps r√©ponse < 24h

### Tableau de bord m√©trics

```php
// M√©triques temps r√©el
$metrics = array(
    'sessions_this_month' => get_monthly_sessions_count(),
    'avg_response_time' => calculate_avg_response_time(),
    'satisfaction_rate' => get_avg_satisfaction_rating(),
    'automation_rate' => calculate_automation_rate()
);
```

---

## üéØ Conclusion

Le plugin **TeachMeMore P√©dagoConnect** r√©volutionne la collaboration p√©dagogique en :

‚úÖ **Centralisant** toutes les interactions √©cole ‚Üî TeachMeMore  
‚úÖ **Automatisant** la gestion des disponibilit√©s formateurs  
‚úÖ **Optimisant** les workflows de planification  
‚úÖ **Fournissant** des analytics business avanc√©s  
‚úÖ **Professionnalisant** l'image de TeachMeMore aupr√®s des √©coles  

**ROI estim√© :** 300% en 6 mois gr√¢ce aux gains de productivit√© et nouvelles opportunit√©s business.

---

*Plugin d√©velopp√© avec ‚ù§Ô∏è pour TeachMeMore*  
*Version 1.0.0 - 2025*