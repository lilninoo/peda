# üöÄ Guide de D√©marrage Rapide - TeachMeMore P√©dagoConnect

## üéØ Mise en Route en 10 Minutes

Bienvenue dans **TeachMeMore P√©dagoConnect** ! Ce guide vous permet de configurer et utiliser le plugin en quelques minutes seulement.

---

## ‚ö° Installation Express

### 1. Activation du Plugin (2 min)

```bash
# 1. T√©l√©charger les fichiers du plugin
# 2. Les placer dans wp-content/plugins/teachmemore-pedagoconnect/
# 3. Activer le plugin depuis l'admin WordPress
```

‚úÖ **Le plugin se configure automatiquement** : tables, r√¥les, pages et t√¢ches CRON sont cr√©√©s automatiquement.

### 2. Assistant d'Installation (3 min)

Apr√®s activation, vous √™tes redirig√© vers l'**Assistant d'Installation** :

- ‚úÖ **Donn√©es de d√©monstration** - √âcoles et modules d'exemple
- ‚úÖ **Configuration email** - Notifications automatiques  
- ‚úÖ **Utilisateurs de test** - Comptes formateur et √©cole
- ‚úÖ **Analytics** - Tableaux de bord business

**‚Üí Cliquez sur "üöÄ D√©marrer l'Installation Compl√®te"**

---

## üë• Premiers Utilisateurs (2 min)

### Cr√©er un Responsable P√©dagogique TeachMeMore

```php
// Via Functions.php ou plugin
$manager_data = array(
    'user_login' => 'responsable.pedagogique',
    'user_email' => 'pedagogie@teachmemore.fr',
    'user_pass' => 'motdepasse_securise',
    'display_name' => 'Responsable P√©dagogique',
    'role' => 'tmm_pedagog_manager'
);
wp_insert_user($manager_data);
```

### Cr√©er une √âcole Partenaire

```php
// Cr√©er l'√©cole
$school_id = wp_insert_post(array(
    'post_title' => '√âcole Sup√©rieure de Commerce',
    'post_type' => 'tmm_school',
    'post_status' => 'publish'
));

// M√©tadonn√©es √©cole
update_post_meta($school_id, 'contact_emails', 'contact@esc.fr');
update_post_meta($school_id, 'working_hours_start', '08:00');
update_post_meta($school_id, 'working_hours_end', '18:00');

// Cr√©er le compte utilisateur √©cole
$user_id = wp_insert_user(array(
    'user_login' => 'esc_pedagogie',
    'user_email' => 'contact@esc.fr',
    'user_pass' => 'motdepasse_ecole',
    'display_name' => 'Responsable P√©dagogique ESC',
    'role' => 'partner_school'
));
update_user_meta($user_id, 'school_id', $school_id);
```

### Cr√©er un Formateur

```php
$trainer_id = wp_insert_user(array(
    'user_login' => 'formateur.devops',
    'user_email' => 'pierre.martin@teachmemore.fr',
    'user_pass' => 'motdepasse_formateur',
    'display_name' => 'Pierre Martin',
    'role' => 'tmm_trainer'
));
update_user_meta($trainer_id, 'trainer_skills', 'DevOps, Docker, Kubernetes');
```

---

## üìö Premier Module (1 min)

```php
$module_id = wp_insert_post(array(
    'post_title' => 'Bootcamp DevOps - Expert',
    'post_content' => 'Formation intensive Docker, Kubernetes, CI/CD',
    'post_type' => 'tmm_module',
    'post_status' => 'publish'
));

// M√©tadonn√©es module
update_post_meta($module_id, 'duration_hours', 35);
update_post_meta($module_id, 'required_skills', 'DevOps, Docker');
update_post_meta($module_id, 'hourly_rate', 200);
update_post_meta($module_id, 'rncp_block', 'RNCP34126-BC02');
```

---

## üóìÔ∏è Premi√®re Session (2 min)

### M√©thode 1: Interface Admin

1. **Dashboard TeachMeMore** ‚Üí `P√©dagoConnect > Dashboard`
2. **Bouton "‚ûï Nouvelle Session"**
3. **Remplir** : √âcole, Module, Date, Formateur
4. **Cliquer "Cr√©er & Envoyer"**

### M√©thode 2: Programmation

```php
// Cr√©er la session
$session_id = wp_insert_post(array(
    'post_title' => 'Session DevOps - ESC Mars 2025',
    'post_type' => 'tmm_session',
    'post_status' => 'proposed' // Statut initial
));

// M√©tadonn√©es session
global $wpdb;
$sessions_table = $wpdb->prefix . 'tmm_sessions_meta';
$wpdb->insert($sessions_table, array(
    'session_id' => $session_id,
    'school_id' => $school_id,
    'module_id' => $module_id,
    'trainer_id' => $trainer_id,
    'start_datetime' => '2025-03-15 09:00:00',
    'end_datetime' => '2025-03-19 17:00:00',
    'hours_planned' => 35,
    'location' => 'Campus Principal',
    'group_name' => 'Promo 2025'
));

// D√©clencher les notifications
do_action('tmm_session_created', $session_id, $school_id);
```

---

## üéØ Workflow Standard

### 1. **TeachMeMore** propose une session
```php
// Statut: 'proposed'
// ‚Üí Notification automatique √† l'√©cole
// ‚Üí Email envoy√© au responsable p√©dagogique
```

### 2. **√âcole** r√©pond √† la proposition
```php
// 3 options possibles:
// ‚úÖ Accepter ‚Üí Statut: 'confirmed'
// üìù Proposer alternative ‚Üí Nouveau cr√©neau
// ‚ùå Refuser ‚Üí Statut: 'cancelled'
```

### 3. **Session confirm√©e**
```php
// ‚Üí Notification au formateur
// ‚Üí Ajout au planning global
// ‚Üí G√©n√©ration des supports
```

### 4. **R√©alisation & Suivi**
```php
// Statut: 'in_progress' ‚Üí 'completed'
// ‚Üí Saisie des heures r√©alis√©es
// ‚Üí Upload feuilles d'√©margement
// ‚Üí Feedback √©cole & formateur
```

---

## üì± Interfaces Principales

### Dashboard TeachMeMore
```
URL: /wp-admin/admin.php?page=tmm-pedagoconnect
Acc√®s: Administrateur, Responsable P√©dagogique TMM
```

**Fonctionnalit√©s:**
- üìä M√©triques temps r√©el
- üö® Sessions urgentes
- üìÖ Planning global
- üìà Analytics business
- ‚öôÔ∏è Gestion √©coles/formateurs

### Espace √âcole Partenaire
```
URL: /espace-partenaire/
Acc√®s: R√¥le 'partner_school'
Shortcode: [tmm_school_dashboard]
```

**Fonctionnalit√©s:**
- üìã Propositions en attente
- ‚úÖ Sessions confirm√©es
- üìÖ Calendrier collaboratif
- üìä Historique & stats
- üìö Catalogue modules

### Interface Formateur
```
URL: /formateur-dashboard/
Acc√®s: R√¥le 'tmm_trainer'
Shortcode: [tmm_availability_form]
```

**Fonctionnalit√©s:**
- üìÖ Gestion disponibilit√©s
- üîÑ Synchronisation calendriers
- üë®‚Äçüè´ Missions assign√©es
- üì§ Upload supports
- ‚≠ê Feedback sessions

---

## üîß Configuration Rapide

### Tarifs Horaires
```php
update_option('tmm_hourly_rates', array(
    'standard' => 150,
    'expert' => 200,
    'premium' => 250
));
```

### Notifications Email
```php
update_option('tmm_email_settings', array(
    'sender_name' => 'TeachMeMore',
    'sender_email' => 'noreply@teachmemore.fr',
    'reply_to' => 'contact@teachmemore.fr'
));
```

### Param√®tres Planning
```php
update_option('tmm_planning_settings', array(
    'default_session_duration' => 7, // heures
    'working_hours_start' => '08:00',
    'working_hours_end' => '18:00',
    'working_days' => array(1,2,3,4,5), // Lun-Ven
    'advance_booking_days' => 7
));
```

---

## üìä Utilisation des Shortcodes

### Dashboard √âcole
```php
// Page compl√®te
[tmm_school_dashboard]

// Composants individuels
[tmm_planning_calendar]
[tmm_school_notifications]
[tmm_session_list status="pending"]
```

### Disponibilit√©s Formateur
```php
// Formulaire complet
[tmm_availability_form]

// Calendrier seul
[tmm_availability_calendar trainer_id="123"]
```

### Widgets Planning
```php
// Planning public (pour site vitrine)
[tmm_public_planning school_id="456"]

// Statistiques publiques
[tmm_public_stats]
```

---

## üö® Actions d'Urgence

### Session en Retard de R√©ponse
```php
// Identifier les sessions > 48h sans r√©ponse
$urgent_sessions = $wpdb->get_results(
    "SELECT * FROM {$wpdb->prefix}tmm_sessions_meta s
     JOIN {$wpdb->posts} p ON s.session_id = p.ID
     WHERE p.post_status = 'proposed' 
     AND s.created_at <= DATE_SUB(NOW(), INTERVAL 48 HOUR)"
);

// Envoyer rappel automatique
foreach ($urgent_sessions as $session) {
    do_action('tmm_send_reminder', $session->session_id);
}
```

### Formateur Non Assign√©
```php
// Sessions confirm√©es sans formateur
$unassigned = $wpdb->get_results(
    "SELECT * FROM {$wpdb->prefix}tmm_sessions_meta s
     JOIN {$wpdb->posts} p ON s.session_id = p.ID
     WHERE p.post_status = 'confirmed' 
     AND (s.trainer_id IS NULL OR s.trainer_id = 0)
     AND s.start_datetime > NOW()"
);
```

### Suggestions Automatiques
```php
// Obtenir suggestions de formateurs
$suggestions = apply_filters('tmm_suggest_trainers', array(), $module_id, $start_date);

// Obtenir cr√©neaux optimaux
$optimal_slots = apply_filters('tmm_suggest_time_slots', array(), $school_id, $module_id, $duration);
```

---

## üìà Rapports Express

### Rapport Mensuel
```php
// Via interface
Admin ‚Üí P√©dagoConnect ‚Üí Reporting ‚Üí "G√©n√©rer Rapport"

// Via code
$report = new TMM_Reporting();
$data = $report->get_global_activity_report(
    date('Y-m-01'), // D√©but du mois
    date('Y-m-d'),  // Aujourd'hui
    array() // Filtres
);
```

### Export Donn√©es
```php
// CSV des sessions
$csv_url = admin_url('admin-ajax.php?action=tmm_export_report&format=csv&type=sessions&nonce=' . wp_create_nonce('tmm_nonce'));

// Excel complet
$excel_url = admin_url('admin-ajax.php?action=tmm_export_report&format=excel&type=complete&nonce=' . wp_create_nonce('tmm_nonce'));
```

---

## üîî Notifications Temps R√©el

### Configuration C√¥t√© Client
```javascript
// Activer notifications push
window.TMM.notifications.toggleSound(); // On/Off son
window.TMM.notifications.setPosition('top-right'); // Position

// Cr√©er notification custom
window.TMM.notifications.createNotification(
    'Test Notification',
    'Ceci est un test',
    'info',
    { icon: 'üß™', priority: 'medium' }
);

// Statistiques
console.log(window.TMM.notifications.getStats());
```

### Configuration Serveur
```php
// Cr√©er notification programmatique
$notifications = new TMM_Notifications();
$notifications->create_notification(
    $user_id,
    'session_confirmed',
    'Session confirm√©e!',
    'Votre session DevOps a √©t√© confirm√©e par l\'√©cole.',
    $session_id,
    array('action_url' => admin_url('post.php?post=' . $session_id))
);

// Broadcast (plusieurs utilisateurs)
$user_ids = array(1, 2, 3);
$notifications->broadcast_notification(
    $user_ids,
    'system_alert',
    'Maintenance programm√©e',
    'Maintenance syst√®me pr√©vue demain de 2h √† 4h.'
);
```

---

## üîß Personnalisation Avanc√©e

### Hooks Disponibles
```php
// Avant cr√©ation session
add_action('tmm_before_session_create', function($session_data) {
    // Validation custom, int√©grations tierces
});

// Apr√®s confirmation √©cole
add_action('tmm_session_confirmed', function($session_id, $school_id) {
    // Webhook, mise √† jour CRM, etc.
});

// Suggestion formateurs
add_filter('tmm_suggest_trainers', function($suggestions, $module_id) {
    // Algorithme custom de suggestion
    return $suggestions;
}, 10, 2);

// Calcul tarifs
add_filter('tmm_calculate_session_price', function($price, $session_data) {
    // Logique de pricing personnalis√©e
    return $price;
}, 10, 2);
```

### Int√©grations Tierces
```php
// Moodle
add_action('tmm_session_completed', function($session_id) {
    // Synchroniser avec Moodle
    $moodle_course_id = sync_with_moodle($session_id);
});

// Google Calendar
add_action('tmm_session_confirmed', function($session_id) {
    // Cr√©er √©v√©nement Google Calendar
    create_google_calendar_event($session_id);
});

// Webhook g√©n√©rique
add_action('tmm_session_updated', function($session_id, $old_status, $new_status) {
    $webhook_url = get_option('tmm_webhook_url');
    if ($webhook_url) {
        wp_remote_post($webhook_url, array(
            'body' => json_encode(array(
                'event' => 'session_updated',
                'session_id' => $session_id,
                'old_status' => $old_status,
                'new_status' => $new_status,
                'timestamp' => time()
            )),
            'headers' => array('Content-Type' => 'application/json')
        ));
    }
});
```

---

## üêõ D√©pannage Express

### Probl√®mes Courants

**‚ùå Notifications ne s'affichent pas**
```php
// V√©rifier configuration
$settings = get_option('tmm_notification_settings');
var_dump($settings);

// Forcer rechargement
delete_transient('tmm_notifications_cache');
wp_cache_flush();
```

**‚ùå Formateur ne re√ßoit pas les emails**
```php
// Test email
wp_mail('test@test.com', 'Test TMM', 'Test notification');

// V√©rifier r√¥le
$user = get_user_by('email', 'formateur@email.com');
var_dump($user->roles); // Doit contenir 'tmm_trainer'
```

**‚ùå Sessions ne s'affichent pas dans le planning**
```php
// V√©rifier donn√©es sessions
global $wpdb;
$sessions = $wpdb->get_results("SELECT * FROM {$wpdb->prefix}tmm_sessions_meta LIMIT 5");
var_dump($sessions);

// Nettoyer cache
delete_transient('tmm_planning_cache');
```

### Mode Debug
```php
// Dans wp-config.php
define('TMM_DEBUG', true);
define('WP_DEBUG_LOG', true);

// Logs dans wp-content/debug.log
tail -f wp-content/debug.log | grep TMM
```

---

## üéâ F√©licitations !

Votre plugin **TeachMeMore P√©dagoConnect** est maintenant op√©rationnel ! 

### Prochaines √âtapes

1. **üìß Inviter vos √©coles partenaires** √† cr√©er leur compte
2. **üë®‚Äçüè´ Ajouter vos formateurs** et leurs disponibilit√©s  
3. **üìÖ Planifier vos premi√®res sessions** collaboratives
4. **üìä Analyser les performances** via les rapports

### Support & Ressources

- üìñ **Documentation compl√®te** : `/wp-content/plugins/teachmemore-pedagoconnect/README.md`
- üîß **Configuration avanc√©e** : `Admin ‚Üí P√©dagoConnect ‚Üí Param√®tres`
- üìä **Analytics** : `Admin ‚Üí P√©dagoConnect ‚Üí Reporting`
- üõ†Ô∏è **Maintenance** : `Admin ‚Üí P√©dagoConnect ‚Üí Maintenance`

---

**üöÄ Votre collaboration p√©dagogique vient de passer au niveau sup√©rieur !**

*Plugin d√©velopp√© avec ‚ù§Ô∏è pour r√©volutionner la formation professionnelle*